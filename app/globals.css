@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
}

/* Dark theme foundations */
.dark {
  --background: 220 20% 8%; /* #0F1217 */
  --foreground: 0 0% 100%; /* #FFFFFF */
  --card: 220 18% 13%; /* #1A1F27 */
  --card-foreground: 0 0% 100%; /* #FFFFFF */
  --popover: 220 18% 13%; /* #1A1F27 */
  --popover-foreground: 0 0% 100%; /* #FFFFFF */
  
  /* Text colors */
  --text-primary: #FFFFFF;
  --text-secondary: #AAB4C0;
  --text-muted: #7A8694;
  
  /* Card hover */
  --card-hover: 220 18% 16%; /* #1F252F */
  
  /* Borders */
  --border: rgba(255, 255, 255, 0.06);
  --border-hover: rgba(255, 255, 255, 0.08);
  
  /* Shadows */
  --shadow-card: 0px 4px 20px rgba(0, 0, 0, 0.35);
  
  /* Primary - Blue */
  --primary: 217 96% 60%; /* #3B82F6 */
  --primary-hover: 217 96% 65%; /* #60A5FA */
  --primary-active: 217 96% 50%; /* #2563EB */
  --primary-foreground: 0 0% 100%;
  
  /* Secondary - Gray */
  --secondary: 220 9% 64%; /* #9CA3AF */
  --secondary-hover: 220 9% 82%; /* #D1D5DB */
  --secondary-active: 220 9% 50%; /* #6B7280 */
  --secondary-foreground: 0 0% 100%;
  
  /* Success - Green */
  --success: 142 76% 45%; /* #22C55E */
  --success-hover: 142 76% 55%; /* #4ADE80 */
  --success-active: 142 76% 38%; /* #16A34A */
  --success-foreground: 0 0% 100%;
  
  /* Tertiary - Purple */
  --tertiary: 271 91% 75%; /* #C084FC */
  --tertiary-hover: 271 91% 82%; /* #D8B4FE */
  --tertiary-active: 271 91% 68%; /* #A855F7 */
  --tertiary-foreground: 0 0% 100%;
  
  /* Warning - Orange */
  --warning: 22 93% 62%; /* #FB923C */
  --warning-hover: 22 93% 72%; /* #FDBA74 */
  --warning-active: 21 90% 52%; /* #F97316 */
  --warning-foreground: 0 0% 100%;
  
  /* Delete/Destructive - Red */
  --destructive: 0 72% 59%; /* #EF4444 */
  --destructive-hover: 0 72% 65%; /* #F87171 */
  --destructive-active: 0 72% 51%; /* #DC2626 */
  --destructive-foreground: 0 0% 100%;
  
  /* Info - Cyan */
  --info: 199 89% 58%; /* #38BDF8 */
  --info-hover: 199 89% 68%; /* #7DD3FC */
  --info-active: 199 89% 48%; /* #0EA5E9 */
  --info-foreground: 0 0% 100%;
  
  /* Icons */
  --icon-default: #AAB4C0;
  
  /* Scrollbars */
  --scrollbar-track: transparent;
  --scrollbar-thumb: rgba(255, 255, 255, 0.1);
  --scrollbar-thumb-hover: rgba(255, 255, 255, 0.2);
  
  /* Dividers */
  --divider: rgba(255, 255, 255, 0.08);
}



/* Typography - Roboto based design system */
h1 {
  font-weight: 600;
  font-size: 48px;
  line-height: 58px;
}

h2 {
  font-weight: 600;
  font-size: 40px;
  line-height: 48px;
}

h3 {
  font-weight: 600;
  font-size: 32px;
  line-height: 38px;
}

h4 {
  font-weight: 600;
  font-size: 28px;
  line-height: 34px;
}

h5 {
  font-weight: 600;
  font-size: 24px;
  line-height: 28px;
}

/* Body styles */
.body-regular {
  font-weight: 400;
  font-size: 16px;
  line-height: 24px;
}

.body-medium {
  font-weight: 500;
  font-size: 16px;
  line-height: 24px;
}

.body-small {
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
}

.caption {
  font-weight: 400;
  font-size: 16px;
  line-height: 20px;
}

/* Fix Tremor text visibility - use new color scheme */
.tremor-Card-root,
.tremor-Card-root * {
  color: #2d3748 !important; /* Primary text */
}

.tremor-Title-root {
  color: #2d3748 !important; /* Primary text */
  font-weight: 600 !important;
}

.tremor-Text-root {
  color: #718096 !important; /* Secondary text */
}

.tremor-Metric-root {
  color: #2d3748 !important; /* Primary text */
  font-weight: 700 !important;
}

/* Chart axis labels and legends */
.recharts-text,
.recharts-label,
.recharts-legend-item-text {
  fill: #2d3748 !important; /* Primary text */
  font-size: 12px !important;
}

.recharts-cartesian-axis-tick-value {
  fill: #718096 !important; /* Secondary text */
}

/* Legend items */
.tremor-Legend-root,
.tremor-Legend-root * {
  color: #2d3748 !important; /* Primary text */
}

/* Table text visibility */
.tremor-Table-root,
.tremor-TableHead-root,
.tremor-TableBody-root,
.tremor-TableRow-root,
.tremor-TableCell-root,
.tremor-TableHeaderCell-root {
  color: #2d3748 !important; /* Primary text */
}

.tremor-TableHeaderCell-root {
  font-weight: 600 !important;
  color: #2d3748 !important; /* Primary text */
  background-color: #f7fafc !important; /* Light background */
}

/* Button text */
.tremor-Button-root {
  color: #2d3748 !important; /* Primary text */
}

/* Input text */
.tremor-TextInput-root input,
.tremor-Select-root select {
  color: #2d3748 !important; /* Primary text */
}

/* Date picker text */
.tremor-DateRangePicker-root,
.tremor-DateRangePicker-root * {
  color: #2d3748 !important; /* Primary text */
}

/* Placeholder text */
.tremor-TextInput-root input::placeholder,
.tremor-Select-root select::placeholder {
  color: #718096 !important; /* Secondary text */
}

/* Dark mode overrides for Tremor */
.dark .tremor-Card-root,
.dark .tremor-Card-root * {
  color: #f7fafc !important; /* Dark mode primary text */
}

.dark .tremor-Title-root {
  color: #f7fafc !important;
}

.dark .tremor-Text-root,
.dark .recharts-cartesian-axis-tick-value,
.dark .tremor-TextInput-root input::placeholder,
.dark .tremor-Select-root select::placeholder {
  color: #cbd5e0 !important; /* Dark mode secondary text */
}

.dark .tremor-Metric-root,
.dark .tremor-Button-root,
.dark .tremor-TextInput-root input,
.dark .tremor-Select-root select,
.dark .tremor-DateRangePicker-root,
.dark .tremor-DateRangePicker-root * {
  color: #f7fafc !important;
}

.dark .recharts-text,
.dark .recharts-label,
.dark .recharts-legend-item-text,
.dark .tremor-Legend-root,
.dark .tremor-Legend-root * {
  fill: #f7fafc !important;
  color: #f7fafc !important;
}

.dark .tremor-Table-root,
.dark .tremor-TableHead-root,
.dark .tremor-TableBody-root,
.dark .tremor-TableRow-root,
.dark .tremor-TableCell-root,
.dark .tremor-TableHeaderCell-root {
  color: #f7fafc !important;
}

.dark .tremor-TableHeaderCell-root {
  background-color: #2d3748 !important;
}

@layer base {
  :root {
    /* Light theme - System Colors */
    --background: 210 36% 98%; /* #f7fafc */
    --foreground: 210 24% 16%; /* #2d3748 */
    --card: 210 36% 98%;
    --card-foreground: 210 24% 16%;
    --popover: 0 0% 100%;
    --popover-foreground: 210 24% 16%;

    /* Primary - Blue */
    --primary: 217 91% 60%; /* #2563EB */
    --primary-hover: 217 91% 68%; /* #3B82F6 */
    --primary-active: 217 91% 48%; /* #1D4ED8 */
    --primary-foreground: 0 0% 100%;

    /* Secondary - Gray */
    --secondary: 220 9% 46%; /* #6B7280 */
    --secondary-hover: 220 9% 64%; /* #9CA3AF */
    --secondary-active: 220 9% 33%; /* #4B5563 */
    --secondary-foreground: 0 0% 100%;

    /* Success - Green */
    --success: 142 71% 45%; /* #16A34A */
    --success-hover: 142 76% 55%; /* #22C55E */
    --success-active: 142 71% 35%; /* #15803D */
    --success-foreground: 0 0% 100%;

    /* Tertiary - Purple */
    --tertiary: 271 91% 65%; /* #A855F7 */
    --tertiary-hover: 271 91% 75%; /* #C084FC */
    --tertiary-active: 271 91% 56%; /* #9333EA */
    --tertiary-foreground: 0 0% 100%;

    /* Warning - Orange */
    --warning: 21 90% 52%; /* #F97316 */
    --warning-hover: 22 93% 62%; /* #FB923C */
    --warning-active: 20 91% 48%; /* #EA580C */
    --warning-foreground: 0 0% 100%;

    /* Delete/Destructive - Red */
    --destructive: 0 72% 51%; /* #DC2626 */
    --destructive-hover: 0 72% 59%; /* #EF4444 */
    --destructive-active: 0 73% 42%; /* #B91C1C */
    --destructive-foreground: 0 0% 100%;

    /* Info - Sky Blue */
    --info: 199 89% 48%; /* #0EA5E9 */
    --info-hover: 199 89% 61%; /* #38BDF8 */
    --info-active: 200 98% 40%; /* #0284C7 */
    --info-foreground: 0 0% 100%;

    --muted: 210 25% 94%;
    --muted-foreground: 214 15% 58%;
    --accent: 210 25% 94%;
    --accent-foreground: 210 24% 16%;
    --border: 214 20% 88%;
    --input: 214 20% 88%;
    --ring: 217 91% 60%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    /* Dark theme foundations - Unified dark neutral */
    --background: 220 20% 8%; /* #0F1217 */
    --foreground: 0 0% 100%; /* #FFFFFF */
    --card: 220 18% 13%; /* #1A1F27 */
    --card-foreground: 0 0% 100%; /* #FFFFFF */
    --popover: 220 18% 13%; /* #1A1F27 */
    --popover-foreground: 0 0% 100%; /* #FFFFFF */

    /* Primary - Blue */
    --primary: 217 96% 60%; /* #3B82F6 */
    --primary-hover: 217 96% 65%; /* #60A5FA */
    --primary-active: 217 96% 50%; /* #2563EB */
    --primary-foreground: 0 0% 100%;

    /* Secondary - Gray */
    --secondary: 220 9% 64%; /* #9CA3AF */
    --secondary-hover: 220 9% 82%; /* #D1D5DB */
    --secondary-active: 220 9% 50%; /* #6B7280 */
    --secondary-foreground: 0 0% 100%;

    /* Success - Green */
    --success: 142 76% 45%; /* #22C55E */
    --success-hover: 142 76% 55%; /* #4ADE80 */
    --success-active: 142 76% 38%; /* #16A34A */
    --success-foreground: 0 0% 100%;

    /* Tertiary - Purple */
    --tertiary: 271 91% 75%; /* #C084FC */
    --tertiary-hover: 271 91% 82%; /* #D8B4FE */
    --tertiary-active: 271 91% 68%; /* #A855F7 */
    --tertiary-foreground: 0 0% 100%;

    /* Warning - Orange */
    --warning: 22 93% 62%; /* #FB923C */
    --warning-hover: 22 93% 72%; /* #FDBA74 */
    --warning-active: 21 90% 52%; /* #F97316 */
    --warning-foreground: 0 0% 100%;

    /* Delete/Destructive - Red */
    --destructive: 0 72% 59%; /* #EF4444 */
    --destructive-hover: 0 72% 65%; /* #F87171 */
    --destructive-active: 0 72% 51%; /* #DC2626 */
    --destructive-foreground: 0 0% 100%;

    /* Info - Cyan */
    --info: 199 89% 58%; /* #38BDF8 */
    --info-hover: 199 89% 68%; /* #7DD3FC */
    --info-active: 199 89% 48%; /* #0EA5E9 */
    --info-foreground: 0 0% 100%;

    --muted: 220 18% 20%;
    --muted-foreground: 220 9% 64%; /* #AAB4C0 */
    --accent: 220 18% 16%; /* #1F252F */
    --accent-foreground: 0 0% 100%;
    --border: 0 0% 100% / 0.06; /* rgba(255,255,255,0.06) */
    --input: 0 0% 100% / 0.06;
    --ring: 217 96% 60%; /* #3B82F6 */
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* System Color Utilities */
@layer utilities {
  /* Primary Button States */
  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary-hover active:bg-primary-active;
  }

  /* Secondary Button States */
  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary-hover active:bg-secondary-active;
  }

  /* Success Button States */
  .btn-success {
    @apply bg-success text-success-foreground hover:bg-success-hover active:bg-success-active;
  }

  /* Tertiary Button States */
  .btn-tertiary {
    @apply bg-tertiary text-tertiary-foreground hover:bg-tertiary-hover active:bg-tertiary-active;
  }

  /* Warning Button States */
  .btn-warning {
    @apply bg-warning text-warning-foreground hover:bg-warning-hover active:bg-warning-active;
  }

  /* Destructive/Delete Button States */
  .btn-destructive {
    @apply bg-destructive text-destructive-foreground hover:bg-destructive-hover active:bg-destructive-active;
  }

  /* Info Button States */
  .btn-info {
    @apply bg-info text-info-foreground hover:bg-info-hover active:bg-info-active;
  }
}

/* Card Design System */
/* Shadow Depth System */
.shadow-0 {
  box-shadow: none;
}

.shadow-1 {
  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.06);
}

.shadow-2 {
  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.10);
}

.shadow-3 {
  box-shadow: 0px 8px 24px rgba(0, 0, 0, 0.12);
}

/* Border Radius System */
.radius-primary {
  border-radius: 12px;
}

.radius-secondary {
  border-radius: 8px;
}

.radius-small {
  border-radius: 6px;
}

/* Card Padding System */
.card-padding-desktop {
  padding: 20px;
}

.card-padding-tablet {
  padding: 16px;
}

.card-padding-mobile {
  padding: 12px;
}

/* Attendance Heatmap Custom Styles - Centered and Responsive */
/* CRITICAL: Remove ALL height restrictions from Card and parent containers */
[class*="Card"][class*="attendance"],
.card:has(.attendance-heatmap-container),
.card > div:has(.attendance-heatmap-container),
.card-content:has(.attendance-heatmap-container) {
  height: auto !important;
  min-height: auto !important;
  max-height: none !important;
  overflow: visible !important;
  overflow-y: visible !important;
  overflow-x: auto !important;
}

/* Ensure no parent containers restrict height */
.attendance-heatmap-container:has(.attendance-heatmap-container) {
  height: auto !important;
  max-height: none !important;
}

.attendance-heatmap-wrapper {
  display: flex !important;
  justify-content: center !important;
  align-items: flex-start !important;
  width: 100% !important;
  height: auto !important;
  min-height: auto !important;
}

.attendance-heatmap-container {
  display: flex !important;
  justify-content: center !important;
  align-items: flex-start !important;
  margin: 0 auto !important;
  width: 100% !important;
  height: auto !important;
  /* Minimum height for 7 rows: topPad (20) + 7 rows * (rectSize 24 + space 5) + bottom padding (20) = 223px */
  min-height: 280px !important;
  max-height: none !important;
  overflow-y: visible !important;
  overflow-x: auto !important;
}

.attendance-heatmap-container svg {
  width: 100% !important;
  height: auto !important;
  min-height: 280px !important;
  max-height: none !important;
  margin: 0 auto !important;
  display: block !important;
  overflow: visible !important;
}

/* Force centering of the SVG content */
.attendance-heatmap-container > div {
  display: flex !important;
  justify-content: center !important;
  width: 100% !important;
}

/* Weekday labels - 14px font size */
.attendance-heatmap-container svg text {
  font-size: 14px !important;
  fill: hsl(var(--muted-foreground)) !important;
}

/* Month labels - ensure they're visible and properly spaced */
.attendance-heatmap-container svg text[y="0"],
.attendance-heatmap-container svg text[y="10"],
.attendance-heatmap-container svg text[y="15"],
.attendance-heatmap-container svg text[y="20"] {
  font-size: 14px !important;
  font-weight: 500 !important;
  fill: hsl(var(--foreground)) !important;
}

/* Rectangle hover effect */
.attendance-heatmap-container svg rect {
  transition: opacity 0.2s ease !important;
}

.attendance-heatmap-container svg rect:hover {
  opacity: 0.8 !important;
  cursor: pointer !important;
}

/* Add spacing between weekday row and month labels - target first g element */
.attendance-heatmap-container svg > g:first-of-type {
  margin-bottom: 16px !important;
}

/* Ensure 7 columns grid layout for heatmap */
.attendance-heatmap-container svg {
  display: block;
}

/* Heatmap grid - 7 columns (Sun-Sat) */
.attendance-heatmap-container .w-heatmap {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
}

/* Responsive adjustments */
/* Mobile: 1 week (7 columns) per row with horizontal scroll */
@media (max-width: 640px) {
  .attendance-heatmap-wrapper {
    justify-content: flex-start !important;
  }

  .attendance-heatmap-container {
    overflow-x: auto !important;
    padding: 16px !important;
  }

  .attendance-heatmap-container svg {
    min-width: 800px !important;
    width: auto !important;
  }

  /* Reduce rect size on mobile for better fit */
  .attendance-heatmap-container svg rect {
    width: 20px !important;
    height: 20px !important;
  }
}

/* Tablet: optimized display with horizontal scroll */
@media (min-width: 641px) and (max-width: 1024px) {
  .attendance-heatmap-container {
    overflow-x: auto !important;
    padding: 20px !important;
  }

  .attendance-heatmap-container svg {
    width: 100% !important;
    max-width: none !important;
    min-width: 900px !important;
  }
}

/* Desktop: full width with horizontal scroll for all 12 months */
@media (min-width: 1025px) {
  .attendance-heatmap-wrapper {
    justify-content: center !important;
  }

  .attendance-heatmap-container {
    max-width: 100% !important;
    overflow-x: auto !important;
    padding: 24px !important;
  }

  .attendance-heatmap-container svg {
    width: 100% !important;
    max-width: none !important;
    min-width: 1000px !important;
  }
}

/* Add horizontal spacing between weekday labels and cells */
.attendance-heatmap-container .w-heatmap-week {
  transform: translateX(-8px); /* Move labels slightly left to increase gap to cells */
}

/* Scrollbar styling for better UX */
.attendance-heatmap-container::-webkit-scrollbar {
  height: 8px;
}

.attendance-heatmap-container::-webkit-scrollbar-track {
  background: hsl(var(--muted));
  border-radius: 4px;
}

.attendance-heatmap-container::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 4px;
}

.attendance-heatmap-container::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* Enhanced Dashboard Styling */
.dashboard-card {
  @apply rounded-lg shadow-md transition-all duration-300;
}

.dashboard-card:hover {
  @apply shadow-xl -translate-y-1;
}

/* Metric Card Enhancements */
.metric-card-icon {
  @apply p-2 rounded-lg transition-colors;
}

.metric-card-icon:hover {
  @apply scale-110;
}

/* Responsive Typography */
@media (max-width: 640px) {
  .metric-percentage {
    font-size: 2.5rem;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .metric-percentage {
    font-size: 3rem;
  }
}

@media (min-width: 1025px) {
  .metric-percentage {
    font-size: 3.75rem;
  }
}

/* Chart Container Enhancements */
.chart-container {
  @apply rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300;
}

/* Smooth Transitions */
* {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* Card Hover Effects */
.card-hover-effect {
  @apply transition-all duration-300 ease-in-out;
}

.card-hover-effect:hover {
  @apply shadow-xl -translate-y-1;
}

/* Section Spacing */
.dashboard-section {
  @apply mb-6 lg:mb-8;
}

/* Grid Improvements */
.dashboard-grid {
  @apply grid gap-4 lg:gap-6;
}

/* Responsive Padding */
@media (max-width: 640px) {
  .dashboard-padding {
    @apply p-4;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .dashboard-padding {
    @apply p-6;
  }
}

@media (min-width: 1025px) {
  .dashboard-padding {
    @apply p-8 lg:p-10;
  }
}

/* Dark Theme Utilities */
.dark {
  /* Text colors */
  --text-primary: #FFFFFF;
  --text-secondary: #AAB4C0;
  --text-muted: #7A8694;
  
  /* Card hover */
  --card-hover: #1F252F;
  
  /* Shadows */
  --shadow-card: 0px 4px 20px rgba(0, 0, 0, 0.35);
  
  /* Icons */
  --icon-default: #AAB4C0;
  
  /* Scrollbars */
  --scrollbar-track: transparent;
  --scrollbar-thumb: rgba(255, 255, 255, 0.1);
  --scrollbar-thumb-hover: rgba(255, 255, 255, 0.2);
  
  /* Dividers */
  --divider: rgba(255, 255, 255, 0.08);
}

/* Dark theme card styling */
.dark .dashboard-card {
  background-color: #1A1F27;
  border-color: rgba(255, 255, 255, 0.06);
  box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.35);
}

.dark .dashboard-card:hover {
  background-color: #1F252F;
}

/* Dark theme scrollbar */
.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: transparent;
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Dark theme focus rings */
.dark *:focus-visible {
  outline: 2px solid #3B82F6;
  outline-offset: 2px;
}

/* Dark theme dividers */
.dark .divider {
  border-color: rgba(255, 255, 255, 0.08);
}

/* Dark theme calendar */
.dark .rdp {
  background-color: #1A1F27;
  border-color: rgba(255, 255, 255, 0.06);
}

.dark .rdp-day {
  color: #FFFFFF;
}

.dark .rdp-day[data-disabled="true"],
.dark .rdp-day[data-outside="true"] {
  color: #4B5563;
}

.dark .rdp-day[data-selected-single="true"] {
  background-color: #2563EB !important;
  color: #FFFFFF !important;
}

.dark .rdp-day:hover:not([data-disabled="true"]):not([data-selected-single="true"]) {
  background-color: rgba(96, 165, 250, 0.2) !important;
}

.dark .rdp-caption_label {
  color: #FFFFFF;
}

.dark .rdp-weekday {
  color: #FFFFFF;
}

/* Calendar day button dark theme styles */
.dark button[data-has-data="true"]:not([data-selected-single="true"]):not([data-disabled="true"]):not([data-outside="true"]) {
  background-color: rgba(34, 197, 94, 0.12) !important;
  color: #22C55E !important;
  border-color: rgba(34, 197, 94, 0.4) !important;
}

.dark button[data-today="true"]:not([data-selected-single="true"]):not([data-disabled="true"]):not([data-outside="true"]) {
  outline: 1px solid #3B82F6 !important;
  outline-offset: -1px !important;
  border-radius: 8px !important;
}

.dark button[data-selected-single="true"] {
  background-color: #2563EB !important;
  color: #FFFFFF !important;
  font-weight: 600 !important;
  border-color: #3B82F6 !important;
  box-shadow: 0 0 8px rgba(59, 130, 246, 0.6) !important;
}

.dark button[data-selected-single="true"] span {
  color: #FFFFFF !important;
  opacity: 1 !important;
}

.dark button[data-disabled="true"],
.dark button[data-outside="true"] {
  background-color: #0F172A !important;
  color: #475569 !important;
  border-color: rgba(255, 255, 255, 0.03) !important;
  cursor: default !important;
  opacity: 0.5 !important;
}

.dark button[data-disabled="true"]:hover,
.dark button[data-outside="true"]:hover {
  background-color: #0F172A !important;
  color: #475569 !important;
}

.dark button:not([data-disabled="true"]):not([data-outside="true"]):not([data-selected-single="true"]):hover {
  background-color: rgba(255, 255, 255, 0.06) !important;
  color: #FFFFFF !important;
  cursor: pointer !important;
}

.dark button:not([data-disabled="true"]):not([data-outside="true"]):not([data-selected-single="true"]):hover span {
  color: #FFFFFF !important;
}

/* Calendar navigation arrows dark theme */
.dark .rdp-button_previous,
.dark .rdp-button_next {
  color: #9CA3AF !important;
  min-width: 32px !important;
  min-height: 32px !important;
}

.dark .rdp-button_previous:hover,
.dark .rdp-button_next:hover {
  color: #E5E7EB !important;
  background-color: rgba(255, 255, 255, 0.05) !important;
}

.dark .rdp-button_previous:active,
.dark .rdp-button_next:active {
  color: #3B82F6 !important;
}

/* Calendar text visibility improvements */
.dark .rdp-day button span {
  font-size: 0.875rem !important;
}

.dark .rdp-day button[data-selected-single="true"] span {
  font-size: 1rem !important;
  font-weight: 600 !important;
}

/* Card help icon + tooltip */
.card-help-wrapper {
  position: relative;
  display: inline-flex;
  align-items: left;
  justify-content: center;
}

.card-help-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  line-height: 1;
  background-color: rgba(148, 163, 184, 0.15); /* slate-400/15 */
  color: #64748b; /* slate-500 */
  transition: transform 0.3s ease-in-out, color 0.3s ease-in-out, background-color 0.3s ease-in-out;
}

.card-help-icon:hover {
  transform: rotate(180deg);
  color: #e5e7eb; /* gray-200 */
  background-color: rgba(148, 163, 184, 0.4);
}

.card-tooltip {
  visibility: hidden;
  position: absolute;
  bottom: 125%;
  right: 0;
  background-color: rgba(15, 23, 42, 0.9); /* slate-900/90 */
  color: #ffffff;
  border-radius: 4px;
  padding: 10px 12px;
  font-size: 12px;
  width: 250px;
  transition: opacity 0.3s ease-in-out;
  opacity: 0;
  z-index: 100;
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.45);
}

.card-tooltip::after {
  content: '';
  position: absolute;
  top: 100%;
  right: 8px;
  border-width: 6px;
  border-style: solid;
  border-color: rgba(15, 23, 42, 0.9) transparent transparent transparent;
}

.card-help-icon:hover + .card-tooltip,
.card-tooltip:hover {
  visibility: visible;
  opacity: 1;
}

